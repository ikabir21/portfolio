"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[566],{3566:function(e,i,t){t.r(i),t.d(i,{default:function(){return K}});var n=t(4942),o=t(1413),r=t(885),s=t(2791),a=t(4554),d=t(890),l=t(2455),c=t(7576),p=t(184),u=(0,l.Z)((function(){return{menu:{position:"absolute",background:"#fafafa",color:"#222",display:"inline-block",borderRadius:"4px",left:function(e){return"".concat(e.x,"px")},top:function(e){return"".concat(e.y,"px")},"& > li":{padding:"5px 20px",fontSize:"13px","&:first-child":{marginTop:"10px"},"&:last-child":{marginBottom:"10px"},"&:hover":{background:"#eee"}},"& hr":{border:"none",borderBottom:"0.5px solid #999",width:"25%",margin:"0.7ch auto"},"& li.disabled":{backgroundColor:"#fafafa !important",color:"#999 !important"}}}})),f=function(e){var i=e.isFullScreen,t=e.coordinate,n=e.setFullScreen,o=e.openApp;console.log(t);var r=u(t);return(0,p.jsxs)("ul",{className:r.menu,children:[(0,p.jsx)("li",{children:"New Folder"}),(0,p.jsx)("hr",{}),(0,p.jsx)("li",{className:"disabled",children:"Paste"}),(0,p.jsx)("hr",{}),(0,p.jsx)("li",{children:"Show Desktop in Files"}),(0,p.jsx)("li",{onClick:function(){return o("terminal")},children:"Open in Terminal"}),(0,p.jsx)("hr",{}),(0,p.jsx)("li",{children:"Change Background..."}),(0,p.jsx)("hr",{}),(0,p.jsx)("li",{onClick:function(){return e=document.documentElement,void(!i&&e.requestFullscreen?(e.requestFullscreen(),n(!0)):document.exitFullscreen&&document.exitFullscreen());var e},children:i?"Exit Full Screen Mode":"Enter Full Screen Mode"}),(0,p.jsx)("li",{children:"Settings"})]})},h=t(9433),x=t(9259),m=function(e){return(0,p.jsx)(x.Z,(0,o.Z)((0,o.Z)({sx:{width:"4px",height:"4px",position:"absolute",left:0}},e),{},{viewBox:"0 0 24 24",children:(0,p.jsx)("path",{fill:"#E95420",d:"M 12 2 A 10 10 0 0 0 2 12 A 10 10 0 0 0 12 22 A 10 10 0 0 0 22 12 A 10 10 0 0 0 12 2 z"})}))},g=t(5931),w=(0,l.Z)((function(e){return{sidebarBox:{position:"absolute",left:0,top:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100%",width:"auto",zIndex:40,backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:3,paddingTop:e.spacing(.5)},listItem:{outline:"2px solid transparent",outlineOffset:"2px",padding:e.spacing(1),width:"auto",borderRadius:e.spacing(.5),position:"relative",margin:e.spacing(.5),"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"& svg":{transform:"scale(1.4)"}}}})),v=function(e){var i=(0,s.useContext)(c.I),t=i.state,o=(i.actions,w()),l=(0,s.useState)({}),u=(0,r.Z)(l,2),f=u[0],x=u[1];return(0,p.jsx)(g.Z,{direction:"right",in:!t.appState.hideSideBar,children:(0,p.jsxs)(a.Z,{className:o.sidebarBox,id:"sidebar",sx:{transform:e.isSideBarHidden&&"translateX(-100%)"},children:[t.apps.map((function(i,r){var s,l,c,u;return i.isFavourite&&(0,p.jsxs)(a.Z,{onClick:function(){return e.openApp(i.id)},disablePadding:!0,className:o.listItem,id:"sidebar-"+i.id,sx:{backgroundColor:void 0!==(null===(s=t.appState.closedWindows)||void 0===s?void 0:s[i.id])&&!(null!==(l=t.appState.closedWindows)&&void 0!==l&&l[i.id])&&"rgba(255, 255, 255, 0.1)"},onMouseEnter:function(){return x((0,n.Z)({},i.title,!0))},onMouseLeave:function(){return x((0,n.Z)({},i.title,!1))},children:[(0,p.jsxs)(a.Z,{sx:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:[void 0!==(null===(c=t.appState.closedWindows)||void 0===c?void 0:c[i.id])&&!(null!==(u=t.appState.closedWindows)&&void 0!==u&&u[i.id])&&(0,p.jsx)(m,{style:{marginLeft:"2px"}}),i.icon]}),(0,p.jsx)(d.Z,{sx:{position:"absolute",p:"2px 6px",color:"rgba(246, 246, 245, 0.9)",background:"#111",border:"1px solid rgba(156,163,175, 0.4)",left:"100%",borderRadius:"6px",width:"max-content",top:"50%",transform:"translateY(-50%)",ml:"1.5ch",visibility:f[i.title]?"visible":"hidden"},variant:"body2",children:i.title})]},r)})),(0,p.jsx)("div",{style:{flexGrow:1}}),(0,p.jsxs)(a.Z,{disablePadding:!0,className:o.listItem,onClick:e.showAllApps,children:[(0,p.jsx)(a.Z,{sx:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:function(){return x((0,n.Z)({},"allApps",!0))},onMouseLeave:function(){return x((0,n.Z)({},"allApps",!1))},children:(0,p.jsx)(h.jj,{})}),(0,p.jsx)(d.Z,{sx:{position:"absolute",p:"2px 6px",color:"rgba(246, 246, 245, 0.9)",background:"#111",border:"1px solid rgba(156,163,175, 0.4)",left:"100%",borderRadius:"6px",width:"max-content",top:"50%",transform:"translateY(-50%)",ml:"1.5ch",visibility:f.allApps?"visible":"hidden"},variant:"body2",children:"Show Applications"})]})]})})},b=t(9406),Z=t(9962),A=t.n(Z),y=function(e){return(0,p.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M20,11H4c-0.552,0-1,0.448-1,1s0.448,1,1,1h16c0.552,0,1-0.448,1-1S20.552,11,20,11z"})}))},S=function(e){return(0,p.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{viewBox:"0 0 32 32",children:(0,p.jsx)("path",{d:"M 5 5 L 5 6 L 5 27 L 27 27 L 27 5 L 5 5 z M 7 7 L 25 7 L 25 25 L 7 25 L 7 7 z"})}))},j=function(e){return(0,p.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{style:{width:"10px"},viewBox:"0 0 24 24",children:(0,p.jsx)("path",{fill:"#fff",d:"M0.5,24h19c0.276,0,0.5-0.224,0.5-0.5V22h2.5c0.276,0,0.5-0.224,0.5-0.5v-20C23,1.224,22.776,1,22.5,1h-20\tC2.224,1,2,1.224,2,1.5V4H0.5C0.224,4,0,4.224,0,4.5v19C0,23.776,0.224,24,0.5,24z M3,2h19v19h-2V4.5C20,4.224,19.776,4,19.5,4H3V2z M1,5h1.5H19v16.5V23H1V5z"})}))},C=function(e){return(0,p.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"})}))},k=t(8986),W=t(5193),z=(0,l.Z)((function(){return{windowTopBarContainer:{position:"absolute",userSelect:"none",right:0,top:0,marginRight:"0.375rem",marginTop:"0.375rem",display:"flex",justifyContent:"center",alignItems:"center","& > span":{borderRadius:"100%"},"& > span:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"& svg":{width:"1rem",height:"1rem",maxWidth:"100%"},"& button":{borderRadius:"50%",backgroundColor:"#E95420",color:"#eee",border:"none"}},windowEditIcon:{width:"1.3rem",height:"1.3rem",maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"0.375rem",marginRight:"0.375rem"}}})),I=function(e){var i={};return(0,s.useEffect)((function(){(i=new Image(0,0)).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.style.opacity=0}),[]),(0,p.jsx)(a.Z,{className:e.x?"window-x-border":"window-y-border",sx:{borderColor:"transparent",position:"absolute",transform:"translate(-50%,-50%)",left:"50%",top:"50%"},onDragStart:function(e){e.dataTransfer.setDragImage(i,0,0)},onDrag:e.resize})},B=function(e){return(0,p.jsx)(a.Z,{className:" relative bg-ub-window-title border-t-2 border-white border-opacity-5 py-1.5 px-3 text-white w-full select-none rounded-b-none",sx:{backgroundColor:"#201F1F",position:"relative",borderColor:"rgba(255, 255, 255, 0.05)",borderTopWidth:"2px",width:"100%",borderTopRightRadius:"1ch",borderTopLeftRadius:"1ch",userSelect:"none",padding:".375rem .75rem",cursor:null!==e&&void 0!==e&&e.isDrag?"move !important":"default"},children:(0,p.jsx)(d.Z,{variant:"body2",sx:{display:"flex",justifyContent:"center",fontWeight:700,cursor:null!==e&&void 0!==e&&e.isDrag?"move !important":"default"},children:e.title})})},L=function(e){var i=z();return(0,p.jsxs)(a.Z,{className:i.windowTopBarContainer,children:[(0,p.jsx)("span",{onClick:e.minimizeWindow,className:i.windowEditIcon,children:(0,p.jsx)(y,{})}),(0,p.jsx)("span",{onClick:e.maximizeWindow,className:i.windowEditIcon,children:e.isMaximised?(0,p.jsx)(j,{}):(0,p.jsx)(S,{})}),(0,p.jsx)("button",{tabIndex:"-1",id:"close-".concat(e.id),onClick:e.closeWindow,className:i.windowEditIcon,children:(0,p.jsx)(C,{})})]})},D=function(e){return(0,p.jsx)(a.Z,{sx:{width:"100%",zIndex:20,maxHeight:"100%",overflowY:"auto",flexGrow:1},className:"windowMainScreen",children:e.isOpenApp?(0,k.k)(e.openApp):e.screen})},E=function(e){var i,t,n=(0,s.useState)({x:60,y:10,isDrag:!1,width:60,height:85,closed:!1,maximized:!1,parentSize:{height:100,width:100}}),a=(0,r.Z)(n,2),d=a[0],l=a[1],u=(0,s.useContext)(c.I),f=u.state;u.actions,(0,W.Z)("(min-width:600px)");(0,s.useEffect)((function(){x(),window.addEventListener("resize",g)}),[]);var h=function(){var i=document.querySelector("#"+e.id);x();var t=i.style.getPropertyValue("--window-transform-x"),n=i.style.getPropertyValue("--window-transform-y");i.style.transform="translate(".concat(t,",").concat(n,")"),setTimeout((function(){l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{maximized:!1})})),m()}),300)},x=function(){window.innerWidth<640?(l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{height:60,width:85})})),g()):(l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{height:85,width:60})})),g())},m=function(){document.querySelector("#"+e.id).getBoundingClientRect().x.toFixed(1)<65?(console.log(e.id),e.hideSideBar(e.id,!0)):e.hideSideBar(e.id,!1)},g=function(){l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{parentSize:{height:window.innerHeight-window.innerHeight*(e.height/100),width:window.innerWidth-window.innerWidth*(e.width/100)}})}))},w=function(){var i=document.querySelector("#"+e.id),t=i.getBoundingClientRect();i.style.setProperty("--window-transform-x",t.x.toFixed(1).toString()+"px"),i.style.setProperty("--window-transform-y",(t.y.toFixed(1)-32).toString()+"px")};return(0,p.jsx)(A(),{axis:"both",grid:[1,1],scale:1,onDrag:m,onStart:function(){e.focusApp(e.id),d.maximized&&h(),l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{isDrag:!0})}))},onStop:function(){return l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{isDrag:!1})}))},allowAnyClick:!1,defaultPosition:{x:d.x,y:d.y},bounds:{left:0,top:0,right:null===d||void 0===d||null===(i=d.parentSize)||void 0===i?void 0:i.width,bottom:null===d||void 0===d||null===(t=d.parentSize)||void 0===t?void 0:t.height},children:(0,p.jsxs)("div",{style:{width:"".concat(d.width,"%"),height:"".concat(d.height,"%"),backgroundColor:"#333",position:"absolute",zIndex:f.appState.focusedWindows[e.id]?1e3:30,borderTopRightRadius:"1ch",borderTopLeftRadius:"1ch",display:"flex",flexDirection:"column",overflow:"hidden",cursor:null!==e&&void 0!==e&&e.isDrag?"move !important":"default"},id:e.id,children:[(0,p.jsx)(I,{x:!1,resize:function(){console.log("object1"),l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{width:d.height+.1})})),g()}}),(0,p.jsx)(I,{x:!0,resize:function(){console.log("object2"),l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{width:d.width+.1})})),g()}}),(0,p.jsx)(B,{isDrag:d.isDrag,title:e.title}),(0,p.jsx)(L,{minimizeWindow:function(){w();var i=document.querySelector("#sidebar-"+e.id),t=i.getBoundingClientRect();(i=document.querySelector("#"+e.id)).style.transform="translate(".concat(-700,"px,").concat(t.y-240,"px) scale(0.2)"),e.minimizeWindow(e.id)},maximizeWindow:function(){if(d.maximized)h();else{e.focusApp(e.id);var i=document.querySelector("#"+e.id);w(),i.style.transform="translate(-1pt,-2pt)",l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{maximized:!0,height:100,width:100})})),e.hideSideBar(e.id,!0)}},isMaximised:d.maximized,closeWindow:function(){w(),e.hideSideBar(e.id,!1),l({closed:!0}),setTimeout((function(){e.closeWindow(e.id)}),300)},id:e.id}),(0,p.jsx)(D,{isOpenApp:"terminal"===e.id,openApp:e.openApp,screen:e.screen})]})})},q=t(7748),R=t(627),F=t(2982),O=t(3767),M=t(4834),N=t(7630),P=t(2065),T=function(e){return(0,p.jsxs)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{viewBox:"0 0 24 24",height:"24",width:"24",children:[(0,p.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,p.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})]}))},H=t(8980),V=(0,l.Z)((function(){return{app:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",outline:"2px solid transparent",outlineOffset:"2px",textAlign:"center",padding:".25rem",borderColor:"transparent",borderWidth:"1px",borderRadius:"0.25rem",zIndex:10,margin:"1px",backgroundColor:"rgba(255,255,255,0)","&:hover":{backgroundColor:"rgba(255,255,255,0.2)"},"& > svg":{transform:"scale(1.4)",display:"block"}}}})),J=(0,N.ZP)("div")((function(e){var i=e.theme;return{cursor:"text",position:"relative",borderRadius:i.spacing(3),backgroundColor:(0,P.Fq)(i.palette.common.white,1),"&:hover":{backgroundColor:(0,P.Fq)(i.palette.common.white,.95)},width:"auto",color:"#333","&:focus":{outline:"2px solid #E95420"}}})),Y=(0,N.ZP)("div")((function(e){return{padding:e.theme.spacing(.5,.5,.1,1),height:"100%",position:"absolute",pointerEvents:"auto !important",display:"flex",alignItems:"center",justifyContent:"center","& > svg":{transform:"scale(0.8)"}}})),G=(0,N.ZP)(M.ZP)((function(e){var i=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,n.Z)({padding:i.spacing(.5,5,.5,0),paddingLeft:"calc(1em + ".concat(i.spacing(3),")"),transition:i.transitions.create("width"),width:"100%",fontSize:"14px",fontWeight:300},i.breakpoints.up("xs"),{width:"20ch"})}})),X=function(e){var i=(0,s.useState)({q:"",apps:[],isAll:!0}),t=(0,r.Z)(i,2),n=t[0],l=t[1],c=V(),u=n.isAll?(0,F.Z)(e.apps):function(){var i=[],t=JSON.parse(localStorage.getItem("freqApps"));return t&&t.forEach((function(t){var n=e.apps.find((function(e){return e.id==t.id}));n&&i.push(n)})),i}();return(0,p.jsxs)(a.Z,{sx:{position:"absolute",height:"100%",width:"100%",zIndex:20,backgroundColor:"rgba(0, 0, 0, 0.6)"},children:[(0,p.jsx)(a.Z,{sx:{display:"flex",pt:"20px",justifyContent:"center",pr:{md:"10ch",xs:"6ch"}},children:(0,p.jsxs)(J,{children:[(0,p.jsx)(Y,{children:(0,p.jsx)(T,{})}),(0,p.jsx)(G,{placeholder:"Type to search\u2026",inputProps:{"aria-label":"search"},value:n.q,onChange:function(e){return l((function(i){return(0,o.Z)((0,o.Z)({},i),{},{q:e.target.value})}))}})]})}),(0,p.jsx)(H.Z,{style:{transitionDelay:"500ms"},in:!0,children:(0,p.jsx)(a.Z,{sx:{display:"grid",gap:{xs:.5,md:2},px:{xs:2.5,md:10},width:{xs:"100%",md:"80%"},mx:"auto",pt:5,justifyContent:"space-between",gridTemplateColumns:{xs:"repeat(2,minmax(0,1fr))",sm:"repeat(3,minmax(0,1fr))",md:"repeat(6,minmax(0,1fr))"}},children:u.map((function(i,t){return(0,p.jsxs)(a.Z,{onClick:function(){return e.openApp(i.id)},className:c.app,sx:{width:"6rem",height:"5rem"},children:[i.icon,(0,p.jsx)(d.Z,{sx:{mt:.5},variant:"body2",align:"center",children:i.title})]},t)}))})}),(0,p.jsxs)(O.Z,{direction:"row",sx:{width:"100%",textAlign:"center",justifyContent:"center",position:"fixed",bottom:0,pr:8,mb:4},children:[(0,p.jsxs)(a.Z,{onClick:function(){return l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{isAll:!1})}))},textAlign:"center",width:{xs:"25%",md:"7%"},mx:.5,backgroundColor:"transparent",sx:{cursor:"pointer","&:hover div":{backgroundColor:n.isAll&&"#fff"},"&:hover p":{color:n.isAll&&"#fff"}},children:[(0,p.jsx)(d.Z,{component:"p",variant:"body2",sx:{color:n.isAll?"#ababab":"#fff"},children:"Frequent"}),(0,p.jsx)(a.Z,{sx:{backgroundColor:n.isAll?"transparent":"#E95420",height:"1px",mt:.5}})]}),(0,p.jsxs)(a.Z,{onClick:function(){return l((function(e){return(0,o.Z)((0,o.Z)({},e),{},{isAll:!0})}))},textAlign:"center",cursor:"pointer",width:{xs:"25%",md:"7%"},mx:.5,backgroundColor:"transparent",sx:{cursor:"pointer","&:hover div":{backgroundColor:!n.isAll&&"#fff"},"&:hover p":{color:!n.isAll&&"#fff"}},children:[(0,p.jsx)(d.Z,{component:"p",variant:"body2",sx:{color:n.isAll?"#fff":"#ababab"},children:"All"}),(0,p.jsx)(a.Z,{sx:{backgroundColor:n.isAll?"#E95420":"transparent",height:"1px",mt:.5}})]})]})]})},Q=(0,l.Z)((function(e){return{container:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundAttachment:"fixed",color:"#eee",paddingTop:"3ch",maxHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"start"},app:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",outline:"2px solid transparent",outlineOffset:"2px",textAlign:"center",padding:".25rem",borderColor:"transparent",borderWidth:"1px",borderRadius:"0.25rem",zIndex:10,width:"6rem",height:"5rem",margin:"1px",backgroundColor:"rgba(255,255,255,0)","&:hover":{backgroundColor:"rgba(255,255,255,0.2)"},"& > svg":{transform:"scale(1.4)",display:"block"}},iframeContainer:{position:"absolute",left:e.spacing(8),top:"24px",bottom:0,width:"calc(100% - ".concat(e.spacing(8),")"),height:"calc(100% - 30px)","& > iframe":{width:"100%",height:"100%"}}}})),K=function(e){var i=(0,s.useContext)(c.I),t=i.state,l=i.actions,u=(0,s.useState)(!1),h=(0,r.Z)(u,2),x=h[0],m=h[1],g=(0,s.useState)(!1),w=(0,r.Z)(g,2),Z=w[0],A=w[1],y=(0,s.useState)({x:0,y:0}),S=(0,r.Z)(y,2),j=S[0],C=S[1],k=Q(),W=function(e){var i=t.appState,n=i.minimizedWindows,o=i.focusedWindows;n[e]=!0,o[e]=!1,l.setAppState({minimizedWindows:n,focusedWindows:o}),F()};(0,s.useEffect)((function(){z(),I()}),[]);var z=function(){var e={},i={},t={},r={},s=[];q.Z.forEach((function(a){e=(0,o.Z)((0,o.Z)({},e),{},(0,n.Z)({},a.id,!1)),i=(0,o.Z)((0,o.Z)({},i),{},(0,n.Z)({},a.id,!0)),t=(0,o.Z)((0,o.Z)({},t),{},(0,n.Z)({},a.id,a.favourite)),r=(0,o.Z)((0,o.Z)({},r),{},(0,n.Z)({},a.id,!1)),a.desktopShortcut&&s.push(a.id)})),l.setAppState({focusedWindows:e,closedWindows:i,favouriteApps:t,minimizedWindows:r,desktopApps:s})},I=function(){var e=localStorage.getItem("newFolders");null===e&&void 0!==e?localStorage.setItem("newFolders",JSON.stringify([])):((e=JSON.parse(e)).forEach((function(e){q.Z.push({id:"new-folder-".concat(e.id),title:e.name,icon:"./themes/Yaru/system/folder.png",favourite:!1,desktopShortcut:!0,screen:function(){}})})),B())},B=function(){var e={},i={},t={},r={},s={},a=[];q.Z.forEach((function(d){e=(0,o.Z)((0,o.Z)({},e),{},(0,n.Z)({},d.id,(void 0!==e[d.id]||null!==e[d.id])&&e[d.id])),r=(0,o.Z)((0,o.Z)({},r),{},(0,n.Z)({},d.id,(void 0!==r[d.id]||null!==r[d.id])&&r[d.id])),s=(0,o.Z)((0,o.Z)({},s),{},(0,n.Z)({},d.id,d.disabled)),i=(0,o.Z)((0,o.Z)({},i),{},(0,n.Z)({},d.id,void 0===i[d.id]&&null===i[d.id]||i[d.id])),t=(0,o.Z)((0,o.Z)({},t),{},(0,n.Z)({},d.id,d.favourite)),d.desktopShortcut&&a.push(d.id)})),l.setAppState({focusedWindows:e,closedWindows:i,disabledApps:s,minimizedWindows:r,favouriteApps:t,desktopApps:a})},L=function(e){var i;if(null!==(i=t.appState.minimizedWindows)&&void 0!==i&&i[e]){M(e);var n=document.querySelector("#"+e);n.style.transform="translate(".concat(n.style.getPropertyValue("--window-transform-x"),",").concat(n.style.getPropertyValue("--window-transform-y"),") scale(1)");var o=t.appState.minimizedWindows;return o[e]=!1,void l.setAppState({minimizedWindows:o})}if(t.alreadyOpenedApps.includes(e))M(e);else{var r=t.appState,s=r.closedWindows,a=r.favouriteApps,d=localStorage.getItem("freqApps")?JSON.parse(localStorage.getItem("freqApps")):[],c=d.find((function(i){return i.id===e}));c?d.forEach((function(e){e.id===c.id&&(e.frequency+=1)})):d.push({id:e,frequency:1}),d.sort((function(e,i){return e.frequency<i.frequency?1:e.frequency>i.frequency?-1:0})),localStorage.setItem("freqApps",JSON.stringify(d)),setTimeout((function(){a[e]=!0,s[e]=!1,l.setAppState({closedWindows:s,favouriteApps:a,allApps:!1}),M(e),l.setAlreadyOpenedApps(e)}),200)}},D=function(e){t.alreadyOpenedApps.splice(t.alreadyOpenedApps.indexOf(e)),F(),N(null,!1);var i=t.appState,n=i.closedWindows,o=i.favouriteApps;i.minimizedWindows[e]=!1,n[e]=!0,l.setAppState({closedWindows:n,favouriteApps:o,minimizeWindow:W})},F=function(){if(!O())for(var e in t.alreadyOpenedApps)if(!t.appState.minimizedWindows[t.alreadyOpenedApps[e]]){M(t.alreadyOpenedApps[e]);break}},O=function(){var e=!0;for(var i in t.appState.minimizedWindows)t.appState.closedWindows[i]||(e&=t.appState.minimizedWindows[i]);return e},M=function(e){var i=t.appState.focusedWindows;for(var n in i[e]=!0,i)i.hasOwnProperty(n)&&n!==e&&(i[n]=!1);l.setAppState({focusedWindows:i})},N=function(e,i){if(i!==t.appState.hideSideBar){if(e){if(!i)for(var n in t.appState.overlappedWindows)if(t.appState.overlappedWindows[n]&&n!==e)return}else if(i)for(var o in t.appState.overlappedWindows)t.appState.overlappedWindows[o]&&l.setAppState({hideSideBar:!0});else l.setAppState({hideSideBar:!1});var r=t.appState.overlappedWindows;r[e]=i,l.setAppState({hideSideBar:i,overlappedWindows:r})}};return(0,p.jsx)(R.Z,(0,o.Z)((0,o.Z)({in:Boolean(null===t||void 0===t?void 0:t.isAuth)},null!==t&&void 0!==t&&t.isAuth?{timeout:1e3}:{}),{},{children:(0,p.jsxs)(a.Z,{onClick:function(){x&&m(!1)},onContextMenu:function(e){e.preventDefault(),m(!x);var i=e.clientX,t=e.clientY;console.log(i,t);var n={x:i,y:t};i+180>window.innerWidth&&(n={x:i-180,y:t}),t+180>window.innerHeight&&(n={x:i,y:t-180}),i+180>window.innerWidth&&t+180>window.innerHeight&&(n={x:i-180,y:t-180}),C(n)},height:"100vh",sx:{position:"relative",minHeight:"100%",minWidth:"100%"},className:k.container,children:[(0,p.jsx)(b.Z,{lock:e.lock,shutDown:e.shutDown,logout:e.logout,reset:e.reset}),(0,p.jsxs)(a.Z,{sx:{width:"100%",height:"100%",backgroundColor:"transparent",position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap-reverse",overflow:"hidden",pl:"7ch"},children:[(0,p.jsx)("div",{style:{height:"100%",width:"100%",position:"absolute",left:0,top:0},"data-context":"desktop-area",children:q.Z.map((function(e,i){var n;return void 0!==t.appState.closedWindows[e.id]&&!(null!==(n=t.appState.closedWindows)&&void 0!==n&&n[e.id])&&(0,p.jsx)(E,{id:e.id,title:e.title,screen:e.screen,minimizeWindow:W,hideSideBar:N,closeWindow:D,focusApp:M,openApp:L,minimized:t.appState.minimizedWindows[e.id]},i)}))}),(0,p.jsx)(a.Z,{sx:{backgroundImage:"url(".concat(null===t||void 0===t?void 0:t.bgImage,")"),position:"absolute",height:"100%",width:"100%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",zIndex:-10,top:0,right:0}}),(0,p.jsx)(v,{hideSideBar:N,isSideBarHidden:t.appState.hideSideBar,openApp:L,showAllApps:function(){return l.setAllApps(!t.allApps)},allApps:t.allApps}),(0,p.jsx)(a.Z,{sx:{width:".25rem",height:"100%",position:"absolute",left:0,top:0}}),t.apps.map((function(e,i){return e.isDesktopShortcut&&(0,p.jsxs)(a.Z,{onDoubleClick:function(){return L(e.id)},className:k.app,children:[e.icon,(0,p.jsx)(d.Z,{sx:{mt:.5},variant:"body2",align:"center",children:e.title})]},i)})),t.allApps&&(0,p.jsx)(X,{apps:q.Z,recentApps:t.alreadyOpenedApps,openApp:L})]}),x&&(0,p.jsx)(f,{isFullScreen:Z,setFullScreen:A,coordinate:j,openApp:L})]})}))}}}]);
//# sourceMappingURL=566.7dfa1672.chunk.js.map